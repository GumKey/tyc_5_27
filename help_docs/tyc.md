


***********************************************tyc_spider文件说明************************************************

tyc_url_rawler文件夹中文件：爬取公司的number
tyc_json_crawler文件中文件：爬取公司的json信息（不包括基本信息）
tyc_jbxx_crawler文件：
	1、url_proxy：获取代理的方法get_proxy
				  获取公司名字和number的方法get_url	
				  将jbxx_html.py中获得的数据导入数据库的方法put_db
	2、jbxx_html:导入url_proxy中的方法获取公司信息 ，代理ip(代理ip改为在文件中手动写入，不更换)，及写入数据库方法
				 （注：公司信息及代理ip获取方式可在url_proxy中更改）
				 
*****************************************************************************************************************

***********************************************
9000

jbxx:6000 > 服务器、  3000-5000：L， 0-5000：K
json:4000:already, 4000+；go on, 7000+服务器

4000
not sure:

4000
number:

************************************************




******************自定义requests保证返回200：*********************

一、说明

1、error:返回的json内容不正确（基本信息需要登陆）

2、页面非json:跳转到其他网页(如什么游戏的网页之类)，代理IP异常，还代理ip迭代处理

3、dataerror: 返回为json内容，但没有state这个键值（信息不存在）

4、[] :返回为json，state=ok,data=空值（信息不存在）      
                                                  
5、data:返回正确内容 （信息存在）




二、处理

                                                 无state  
                                               (dataerror)
                                                    |
                                                    |
													|
							
请求页面 ----------------> 返回200 ------------> 页面json ---------> state='ok'(正确内容)

     |			     		 |                      |
     |                       |                      |
     |                       |                      |

其他返回（迭代处理）     页面非json            state='error'||'warn'    
（自定义request）        （迭代爬取）             (error||'warn')


三、结果

1、网站备案，返回501后再处理异常（查看是否存在信息）
2、基本信息需要登录爬取


四、结果处理

全部16000条数据
	
五、难点

1、问题：基本信息一栏内容返回的json数据和页面显示的数据除了公司名字，其他都不一致。
   解决：通过带token和utm的cookies进行访问，token和utm通过分析js文件，模拟js操作得到。
    
